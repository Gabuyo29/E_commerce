;/*FB_PKG_DELIM*/

__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3);a=a.error;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.cardWidth,j.errorBoundary],b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"fb_chat_tab",xstyle:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MAWChatTabInThreadBanner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWChatTabInThreadBanner_query",selections:[{args:null,kind:"FragmentSpread",name:"MWEBChatTabBannerNux_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBChatTabBannerNux_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNux_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNux_query.graphql","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEncryptedBackupsThreadListQPWrapper.react","cr:20045","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEBChatTabBannerNux.react"));function a(a){var e=d("react-compiler-runtime").c(7);a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBChatTabBannerNux_query.graphql"),a);var f;e[0]!==a?(f={entrypoint:c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:a},e[0]=a,e[1]=f):f=e[1];f=c("useEncryptedBackupsProcessStatePreLoaded")(f);switch(f){case 2:if(((f=a.viewer)==null?void 0:f.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells)!=null){a=(f=a.viewer)==null?void 0:f.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={},e[2]=f):f=e[2];e[3]!==a?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:f})}),e[3]=a,e[4]=f):f=e[4];return f}if(b("cr:20045")!=null){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(b("cr:20045"),{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP}),e[5]=a):a=e[5];return a}e[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(k,{fallback:null,props:{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}}),e[6]=f):f=e[6];return f;default:return null}}g["default"]=a}),98);
__d("MAWChatTabInThreadBanner.react",["CometPlaceholder.react","CometRelay","MAWChatTabInThreadBanner_query.graphql","MWEBChatTabBannerNux.react","cr:9715","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3);a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MAWChatTabInThreadBanner_query.graphql"),a);if(b("cr:9715")&&c("gkx")("1778")){var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:j.jsx(b("cr:9715"),{hasNoMargin:!0})}),e[0]=f):f=e[0];return f}else{e[1]!==a?(f=j.jsx(c("MWEBChatTabBannerNux.react"),{query:a}),e[1]=a,e[2]=f):f=e[2];return f}}g["default"]=a}),98);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useIsTabExpanded"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function k(a,b){var e=d("react-compiler-runtime").c(3),f;e[0]!==a||e[1]!==b?(f=function(d){a(function(a){var e=a.onReturn;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b}),name:"MWCMSubThreadChatTabWithSubthread",children:i.jsx(j,{onReturn:function(){e()},tab:b,threadKey:d})})})},e[0]=a,e[1]=b,e[2]=f):f=e[2];return f}function l(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.pushPage;a=a.tab;e=k(e,a);b[0]!==c||b[1]!==e?(a=i.jsx(d("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:e,children:c}),b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.tab,g=a.thread,h=g.threadKey;a=c("useIsTabExpanded")(f);var j;b[0]!==a?(j={0:{className:"x5a5i1n x1obq294 x2c8kfy x1hm9lzh xhvchuf x1jx94hy x1rgmuzj xbbk1sx"},1:{className:"x5a5i1n x1obq294 x2c8kfy x1hm9lzh xhvchuf x1xa6b72 x85a59c xvue9z xqik5uc x1ubef0g"}}[!!a<<0],b[0]=a,b[1]=j):j=b[1];b[2]!==f?(a=i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:f}),b[2]=f,b[3]=a):a=b[3];var k;b[4]!==e||b[5]!==f||b[6]!==g.threadKey||b[7]!==h?(k=function(a){return i.jsx(l,{pushPage:a,tab:f,children:i.jsxs(d("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:f,threadKey:g.threadKey,children:[i.jsx(c("MWChatTabHeaderRoot.react"),{pushPage:a,tab:f,threadKey:h}),e]})})},b[4]=e,b[5]=f,b[6]=g.threadKey,b[7]=h,b[8]=k):k=b[8];var m;b[9]!==a||b[10]!==k?(m=i.jsx(c("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:a,fitContentWidth:!0,children:k}),b[9]=a,b[10]=k,b[11]=m):m=b[11];b[12]!==j||b[13]!==m?(a=i.jsx("div",babelHelpers["extends"]({},j,{children:m})),b[12]=j,b[13]=m,b[14]=a):a=b[14];return a}g["default"]=a}),98);
__d("MWChatTabInThreadBannerInner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerInner_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWChatTabInThreadBanner_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"12RdKQ"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWChatTabInThreadBannerInner_query",fragmentName:"MWChatTabInThreadBannerMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"12RdKQ")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useIsDualThreadInThreadBannerNotDismissed",["I64","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","getMWLocalStorageThreadsWithBannerDismissed","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(8),e=a.threadKey,f=d("MAWThreadCutover").useGetCutoverOpenThreadKey(e);f=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(f);if(b[0]!==f||b[1]!==e){var g=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED);g=f&&!Object.prototype.hasOwnProperty.call(g,(h||(h=d("I64"))).to_string(e));b[0]=f;b[1]=e;b[2]=g}else g=b[2];f=g;b[3]!==a?(g=d("LSThreadBitOffset").has(260,a),b[3]=a,b[4]=g):g=b[4];a=g;if(b[5]!==a||b[6]!==e){g=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);g=a&&!Object.prototype.hasOwnProperty.call(g,(h||(h=d("I64"))).to_string(e));b[5]=a;b[6]=e;b[7]=g}else g=b[7];a=g;return f||a}g["default"]=a}),98);
__d("MWChatTabInThreadBannerInner.react",["CometErrorBoundary.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","LSMessagingThreadTypeUtil","MAWChatTabInThreadBanner.react","MWChatTabInThreadBannerInner_query.graphql","MWLSInThreadBannerComponent.react","cr:17333","cr:19806","react","react-compiler-runtime","useIsDualThreadInThreadBannerNotDismissed","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(17),g=a.query;a=a.thread;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatTabInThreadBannerInner_query.graphql"),g);e=g==null?void 0:(e=g.viewer)==null?void 0:(e=e.eligible_promotions)==null?void 0:(e=e.nodes[0])==null?void 0:(e=e.comet_qp_sections)==null?void 0:e.renderer_strategy;var i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={context_surface_id:8888,context_trigger:"chat_tab_open"},f[0]=i):i=f[0];i=c("useQuickPromotionFalcoEvent")(i);var l=c("useIsDualThreadInThreadBannerNotDismissed")(a);if(e!=null){var m;f[1]!==e?(m=j.jsx(d("CometRelay").MatchContainer,{match:e}),f[1]=e,f[2]=m):m=f[2];f[3]!==i||f[4]!==m?(e=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:i,children:m}),f[3]=i,f[4]=m,f[5]=e):e=f[5];return e}else if(l){f[6]!==a?(i=b("cr:17333")&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(b("cr:17333"),{thread:a})}),f[6]=a,f[7]=i):i=f[7];f[8]!==a?(m=b("cr:19806")&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(b("cr:19806"),{thread:a})}),f[8]=a,f[9]=m):m=f[9];f[10]!==i||f[11]!==m?(e=j.jsxs(j.Fragment,{children:[i,m]}),f[10]=i,f[11]=m,f[12]=e):e=f[12];return e}else if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)){f[13]!==g?(l=j.jsx(c("MAWChatTabInThreadBanner.react"),{query:g}),f[13]=g,f[14]=l):l=f[14];return l}else if(d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else{f[15]!==a.threadKey?(i=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(c("MWLSInThreadBannerComponent.react"),{threadKey:a.threadKey})})}),f[15]=a.threadKey,f[16]=i):i=f[16];return i}}function k(){return null}g["default"]=a}),98);
__d("MWChatTabInThreadBannerQuery.graphql",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"12RdKQ"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"MWChatTabInThreadBannerInner_query",fragmentName:"MWChatTabInThreadBannerMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"12RdKQ")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:b("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatTabInThreadBanner.react",["MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerQuery.graphql","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3),f=a.mwChatTabInThreadBannerQueryRef;a=a.thread;f=d("RelayHooks").usePreloadedQuery(h!==void 0?h:h=b("MWChatTabInThreadBannerQuery.graphql"),f);var g;e[0]!==f||e[1]!==a?(g=j.jsx(c("MWChatTabInThreadBannerInner.react"),{query:f,thread:a}),e[0]=f,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29997971396516674"}),null);
__d("MWChatTabInThreadBannerLazyLoadedQuery.graphql",["MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"12RdKQ"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"MWChatTabInThreadBannerInner_query",fragmentName:"MWChatTabInThreadBannerMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"12RdKQ")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:b("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerLazyLoadedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();e.exports=a}),null);
__d("MWChatTabInThreadBannerLazyLoaded.react",["CometRelay","MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerLazyLoadedQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3);a=a.thread;var f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatTabInThreadBannerLazyLoadedQuery.graphql"),{},{fetchPolicy:"store-or-network"}),g;e[0]!==f||e[1]!==a?(g=j.jsx(c("MWChatTabInThreadBannerInner.react"),{query:f,thread:a}),e[0]=f,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g;f[0]!==e?(g=e===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:e,f[0]=e,f[1]=g):g=f[1];var i=g,j=d("MWChatStateV2.react").useDispatch(),k=a==null?void 0:a.threadKey,l=a==null?void 0:a.clientThreadKey,m=a==null?void 0:a.threadType,n=a==null?void 0:a.authorityLevel;f[2]!==n||f[3]!==j||f[4]!==l||f[5]!==k||f[6]!==m||f[7]!==i.shouldClearOldHiddenTab||f[8]!==i.shouldUpdateThreadType||f[9]!==b.tabId?(e=function(){k!=null&&n!=null&&(h||(h=d("LSIntEnum"))).toNumber(n)>=c("LSAuthorityLevel").AUTHORITATIVE&&j(d("MWChatStateActions").updateThreadKeyDescriptor(b.tabId,k,l,i.shouldUpdateThreadType?m:void 0,{shouldClearOldHiddenTab:i.shouldClearOldHiddenTab}))},g=[b.tabId,k,l,j,n,m,i.shouldUpdateThreadType,i.shouldClearOldHiddenTab],f[2]=n,f[3]=j,f[4]=l,f[5]=k,f[6]=m,f[7]=i.shouldClearOldHiddenTab,f[8]=i.shouldUpdateThreadType,f[9]=b.tabId,f[10]=e,f[11]=g):(e=f[10],g=f[11]);d("Int64Hooks").useEffectInt64(e,g)}g["default"]=a}),98);
__d("MWOptimisticSecureThreadPreview.react",["CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","LSIntEnum","LSThreadAttributionStore","MWChatTabHeaderRoot.react","MWComposerGating.react","MWOpenAndSecureThreadView.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWV2TabContainer","ReQL","ReQLSuspense","cr:9410","react","react-compiler-runtime","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect;e.useMemo;var n=e.useState;function a(a){var e=d("react-compiler-runtime").c(25),g=a.otherContactIdForOptimisticSecureThread,k=a.tab,p=(h||(h=c("useReStore")))(),q;e[0]!==p||e[1]!==g?(a=function(){return g==null?d("ReQL").empty():d("ReQL").fromTableAscending(p.tables.contacts,["blockedByViewerStatus","name","profilePictureUrl","id"]).getKeyRange(g)},q=[p,g],e[0]=p,e[1]=g,e[2]=a,e[3]=q):(a=e[2],q=e[3]);a=d("ReQLSuspense").useFirst(a,q,f.id+":58");q=n();var r=q[0];q=q[1];var s;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(s={shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1},e[4]=s):s=e[4];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(r,k,s);var t=r==null?void 0:r.threadKey,u;e[5]!==g||e[6]!==t?(s=function(){if(t==null||g==null)return;var a=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(i||(i=d("I64"))).to_string(g));a.value!=="unknown"&&(a.type==="LSThreadAttribution"?d("LSThreadAttributionStore").setLSMessagingThreadAttribution((i||(i=d("I64"))).to_string(t),i.to_string(a.value)):d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(t),a.value))},u=[t,g],e[5]=g,e[6]=t,e[7]=s,e[8]=u):(s=e[7],u=e[8]);m(s,u);e[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k"},{children:l.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})})),e[9]=s):s=e[9];u=s;if(e[10]!==r){s=r!=null&&l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.Composer",children:l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:r.themeFbid,children:l.jsx(d("MWComposerGating.react").MWChatComposerGating,{isPreviewThread:!0,thread:r},(i||(i=d("I64"))).to_string((s=r.clientThreadKey)!=null?s:r.threadKey))})});e[10]=r;e[11]=s}else s=e[11];s=s;var v;e[12]!==a?(v=a!=null?[{blockedByViewerStatus:a.blockedByViewerStatus,contextLine:"",displayName:a.name,id:a.id,profilePicUrl:a.profilePictureUrl,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15),type_:(j||(j=d("LSIntEnum"))).ofNumber(1)}]:[],e[12]=a,e[13]=v):v=e[13];a=v;v=a;e[14]!==v||e[15]!==s?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.ThreadPreview",children:l.jsx(c("MWPThreadPreview.react"),{areWeCreatingASecureThread:!0,nullstate:u,renderThreadView:o,setPreviewThread:q,tokens:v,children:s})}),e[14]=v,e[15]=s,e[16]=a):a=e[16];var w=a;q=(u=r==null?void 0:r.threadKey)!=null?u:void 0;e[17]!==w||e[18]!==r||e[19]!==k?(v=b("cr:9410")!=null?l.jsx(b("cr:9410"),{children:function(a){return l.jsxs(l.Fragment,{children:[r&&l.jsx(c("MWChatTabHeaderRoot.react"),{pushPage:a,tab:k,threadKey:r.threadKey}),w]})}}):l.jsxs(l.Fragment,{children:[r&&l.jsx(c("MWChatTabHeaderRoot.react"),{tab:k,threadKey:r.threadKey}),w]}),e[17]=w,e[18]=r,e[19]=k,e[20]=v):v=e[20];e[21]!==q||e[22]!==v||e[23]!==k?(s=l.jsx(d("MWV2TabContainer").MWV2TabContainer,{tab:k,threadKey:q,children:v}),e[21]=q,e[22]=v,e[23]=k,e[24]=s):s=e[24];return s}function o(a){return l.jsx(c("MWOpenAndSecureThreadView.react"),{thread:a})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOnDemandCutoverThreadPreview.react",["Int64Hooks","MAWOnDemandCutoverTrigger","MWOptimisticSecureThreadPreview.react","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.otherContactIdForOnDemandCutoverThread;a=a.tab;var f=c("useAsyncReStore")(),g,h;b[0]!==f||b[1]!==e?(g=function(){if(e==null)return;c("promiseDone")(f,function(a){d("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(a,e,"chatTab")})},h=[f,e],b[0]=f,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h);b[4]!==e||b[5]!==a?(g=i.jsx(c("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:e,tab:a}),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("useCometSubscribeMessengerIsOnDemandCutoverEligible",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(12),g=(h||(h=c("useReStore")))(),i,j;e[0]!==g||e[1]!==a||e[2]!==b?(i=function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(g.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},j=[g,a,b],e[0]=g,e[1]=a,e[2]=b,e[3]=i,e[4]=j):(i=e[3],j=e[4]);i=d("ReQLSuspense").useFirst(i,j,f.id+":34");j=d("MAWThreadCutover").useIsCutoverOpenThread(a);if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)||j){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!0,null],e[5]=j):j=e[5];return j}if(i==null){e[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!1,null],e[6]=j):j=e[6];return j}e[7]!==i?(j=i!=null&&d("LSContactBitOffset").has(76,i),e[7]=i,e[8]=j):j=e[8];j=j;var k;e[9]!==j||e[10]!==i.id?(k=[j,!0,i.id],e[9]=j,e[10]=i.id,e[11]=k):k=e[11];return k}g["default"]=a}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),c=d("MWChatStateContext").useChatState(k),e=d("MWChatStateV2.react").useDispatch(),f;b[0]!==e||b[1]!==a.tabId||b[2]!==a.tabType.threadKeyDescriptor||b[3]!==c?(f=function(){var b;if(((b=a.tabType.threadKeyDescriptor)==null?void 0:b.threadKey)==null)return;b=Array.from(c.values()).filter(function(b){var c,e=b.tabId;b=b.tabType;return((c=b.threadKeyDescriptor)==null?void 0:c.threadKey)==null||((c=a.tabType.threadKeyDescriptor)==null?void 0:c.threadKey)==null?!1:a.tabId>e&&(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a.tabType.threadKeyDescriptor.threadKey)});b.forEach(function(a){var b=a.closeWatermark,c=a.openWatermark;a=a.tabId;c>b&&e(d("MWChatStateActions").closeTab(Date.now(),a))})},b[0]=e,b[1]=a.tabId,b[2]=a.tabType.threadKeyDescriptor,b[3]=c,b[4]=f):f=b[4];var g;b[5]!==e||b[6]!==a||b[7]!==c?(g=[e,a,c],b[5]=e,b[6]=a,b[7]=c,b[8]=g):g=b[8];j(f,g)}function k(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatTab.react",["BaseHeadingContextWrapper.react","CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWThreadCutover","MAWThreadUpdateMiddlewareGatingUtil","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabHeaderRoot.react","MWChatTabInThreadBanner.react","MWChatTabInThreadBannerLazyLoaded.react","MWComposerGating.react","MWCreatorMessagingUtils","MWFullThreadProvider.react","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWOnDemandCutoverThreadPreview.react","MWOpenAndSecureThreadView.react","MWOptimisticSecureThreadPreview.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MWXRelayComposer.react","MetaConfig","QPLUserFlow","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:10518","cr:1113","cr:21192","cr:21386","cr:9410","emptyFunction","gkx","promiseDone","qex","qpl","react","react-compiler-runtime","useC4gEngagementImpressionLogging","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability","useCometSubscribeMessengerIsOnDemandCutoverEligible","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.memo;e.useCallback;var n=e.useLayoutEffect,o=e.useRef,p=(e=b("cr:1113"))!=null?e:c("useEmptyFunction"),q=(e=b("cr:10518"))!=null?e:c("useEmptyFunction");b("cr:21192");function r(a){var b=a.children;a=a.themeFbid;return d("MWPThemeCSSProvider.react").useIsThemeV2()?l.jsx(c("CometTransientDialogProvider.react"),{children:l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:b})}):l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:l.jsx(c("CometTransientDialogProvider.react"),{children:b})})}function s(a){var e=d("react-compiler-runtime").c(83),f=a.isMinimized,g=a.mawSecureThreadQPContainerQueryRef,h=a.mwChatTabInThreadBannerQueryRef,i=a.otherContactIdForDefaultE2eeThread,j=a.otherContactIdForOnDemandCutover,m=a.shouldUseDefaultE2eeOneToOne,s=a.shouldUseOnDemandCutover,x=a.tab,y=a.thread;a=a.threadLinkHash;var z=y.themeFbid,A=y.threadKey,B=y.threadType,C;e[0]!==y?(C={thread:y},e[0]=y,e[1]=C):C=e[1];p(C);e[2]!==A||e[3]!==B?(C={threadKey:A,threadType:B},e[2]=A,e[3]=B,e[4]=C):C=e[4];c("useC4gEngagementImpressionLogging")(C);q(y);e[5]!==B?(C=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(B),e[5]=B,e[6]=C):C=e[6];B=C;e[7]!==y?(C=d("LSThreadBitOffset").has(167,y),e[7]=y,e[8]=C):C=e[8];C=C;var D=!d("LSThreadBitOffset").has(56,y),E;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(E={getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")},e[9]=E):E=e[9];var F=o(E),G=d("MWChatStateContext").useChatState(w);c("useMWCloseDuplicateChatTabs")(x);var H;e[10]!==G||e[11]!==x.tabId?(E=function(){if(G!==x.tabId){var a;(a=F.current)==null?void 0:a.restoreScrollPosition()}},H=[G,x.tabId],e[10]=G,e[11]=x.tabId,e[12]=E,e[13]=H):(E=e[12],H=e[13]);n(E,H);e[14]!==B||e[15]!==y?(E=d("LSThreadBitOffset").has(106,y)&&B&&c("MetaConfig")._("105"),e[14]=B,e[15]=y,e[16]=E):E=e[16];H=E;e[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){var a;(a=F.current)==null?void 0:a.jumpToMostRecentMessage()},e[17]=B):B=e[17];E=B;e[18]!==y?(B=function(){d("MWCreatorMessagingUtils").isAPPlusMessageRequest(y)&&c("QPLUserFlow").endSuccess(c("qpl")._(421070823,"2981"),{annotations:{string:{action:"accept"}},instanceKey:(k||(k=d("I64"))).to_int32(y.threadKey)})},e[18]=y,e[19]=B):B=e[19];var I=B;B=c("qex")._("4806")===!0;var J;e[20]!==G||e[21]!==x.tabId||e[22]!==y?(J=x.tabId!==G?null:l.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:y}),e[20]=G,e[21]=x.tabId,e[22]=y,e[23]=J):J=e[23];var K;e[24]===Symbol["for"]("react.memo_cache_sentinel")?(K=l.jsx(c("MWChatConnectionStatusCard.react"),{}),e[24]=K):K=e[24];var L;e[25]!==h||e[26]!==y?(L=l.jsx(c("CometErrorBoundary.react"),{fallback:v,children:l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner.Root",children:h!=null?l.jsx(c("MWChatTabInThreadBanner.react"),{mwChatTabInThreadBannerQueryRef:h,thread:y}):l.jsx(c("MWChatTabInThreadBannerLazyLoaded.react"),{thread:y})})}),e[25]=h,e[26]=y,e[27]=L):L=e[27];e[28]!==H||e[29]!==y?(h=H&&l.jsx(c("MWInboxPinnedMessagesBanner.react"),{thread:y}),e[28]=H,e[29]=y,e[30]=h):h=e[30];e[31]!==f||e[32]!==g||e[33]!==y?(H=l.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:f,mawSecureThreadQPContainerQueryRef:g,messageListRef:F,thread:y}),e[31]=f,e[32]=g,e[33]=y,e[34]=H):H=e[34];e[35]!==I||e[36]!==A?(f=l.jsx(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:E,children:l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:B?l.jsx(c("MWFullThreadProvider.react"),{threadKey:A,children:function(a){return l.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:I,isMessengerInbox:!1,isPreviewThread:!1,thread:a})}}):l.jsx(c("MWXRelayComposer.react"),{afterSendMessage:I,isPreviewThread:!1,threadKey:A})})}),e[35]=I,e[36]=A,e[37]=f):f=e[37];e[38]!==f||e[39]!==a?(g=l.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:u,children:l.jsx(c("CometErrorBoundary.react"),{fallback:t,children:l.jsx(d("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:a,children:f})})}),e[38]=f,e[39]=a,e[40]=g):g=e[40];e[41]!==D||e[42]!==H||e[43]!==g||e[44]!==y?(E=l.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:D,thread:y,children:[H,g]}),e[41]=D,e[42]=H,e[43]=g,e[44]=y,e[45]=E):E=e[45];e[46]!==J||e[47]!==L||e[48]!==h||e[49]!==E?(B=l.jsxs(l.Fragment,{children:[J,K,L,h,E]}),e[46]=J,e[47]=L,e[48]=h,e[49]=E,e[50]=B):B=e[50];var M=B;e[51]!==M||e[52]!==C||e[53]!==x||e[54]!==y?(f=C?b("cr:21386")!=null?l.jsx(b("cr:21386").MWPConversationSearchContext,{children:l.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:x,thread:y,children:M})}):l.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:x,thread:y,children:M}):null,e[51]=M,e[52]=C,e[53]=x,e[54]=y,e[55]=f):f=e[55];a=f;e[56]!==m||e[57]!==s||e[58]!==A?(D=function(a){return m||s?l.jsx(l.Fragment,{children:a}):l.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:A,children:a})},e[56]=m,e[57]=s,e[58]=A,e[59]=D):D=e[59];H=D;e[60]!==M||e[61]!==x||e[62]!==A?(g=b("cr:9410")!=null?l.jsx(d("MWV2TabContainer").MWV2TabContainer,{tab:x,threadKey:A,children:l.jsx(b("cr:9410"),{children:function(a){return l.jsxs(l.Fragment,{children:[l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:l.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:x}),name:"MWChatTabHeader",children:l.jsx(c("MWChatTabHeaderRoot.react"),{pushPage:a,tab:x,threadKey:A})}),M]})}})}):l.jsxs(d("MWV2TabContainer").MWV2TabContainer,{tab:x,threadKey:A,children:[l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:l.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:x}),name:"MWChatTabHeader",children:l.jsx(c("MWChatTabHeaderRoot.react"),{tab:x,threadKey:A})}),M]}),e[60]=M,e[61]=x,e[62]=A,e[63]=g):g=e[63];K=g;e[64]!==K||e[65]!==a||e[66]!==i||e[67]!==j||e[68]!==m||e[69]!==s||e[70]!==x?(J=a!=null?a:m&&c("MWOptimisticSecureThreadPreview.react")!=null?l.jsx(c("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:i,tab:x}):s?l.jsx(c("MWOnDemandCutoverThreadPreview.react"),{otherContactIdForOnDemandCutoverThread:j,tab:x}):K,e[64]=K,e[65]=a,e[66]=i,e[67]=j,e[68]=m,e[69]=s,e[70]=x,e[71]=J):J=e[71];L=J;e[72]!==L?(h=l.jsx(d("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:l.jsx(d("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:l.jsx(c("BaseHeadingContextWrapper.react"),{children:L})})}),e[72]=L,e[73]=h):h=e[73];e[74]!==h||e[75]!==z?(E=l.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:l.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:l.jsx(r,{themeFbid:z,children:h})})}),e[74]=h,e[75]=z,e[76]=E):E=e[76];e[77]!==E||e[78]!==H?(B=H(E),e[77]=E,e[78]=H,e[79]=B):B=e[79];e[80]!==B||e[81]!==A?(C=l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:A,children:B}),e[80]=B,e[81]=A,e[82]=C):C=e[82];return C}function t(){return l.jsx(c("MWV2ErrorComposer.react"),{})}t.displayName=t.name+" [from "+f.id+"]";function u(a){return l.jsx(c("CometMessagingChatTabErrorState.react"),{error:a})}u.displayName=u.name+" [from "+f.id+"]";function v(){return null}function w(a){return a.focusedTabId}function x(a,b){var e=d("react-compiler-runtime").c(12),g=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a),i=(d("MAWThreadCutover").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(128,b))&&!g;e[0]!==a?(b=(k||(k=d("I64"))).to_string(a),e[0]=a,e[1]=b):b=e[1];var j=d("MAWThreadCutover").useGetCutoverSecureThreadKey(b),l=(h||(h=c("useReStore")))(),m;e[2]!==j||e[3]!==l||e[4]!==i||e[5]!==a?(b=function(){if(!i)return;if(j==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(l,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(b),{waJid:a})},"readwrite"));else{var b=d("MWChatInteraction").get((k||(k=d("I64"))).to_string(a));if(b!=null){var e;d("MWChatInteraction").set(j,b);(e=c("InteractionTracingMetrics")).addMetadata(b,"thread_id",j);e.addMetadata(b,"thread_type",15..toString());e.addMetadata(b,"is_secure",!0);e.addMetadata(b,"redirectedFromPreCutover",1)}}},m=[j,l,i,a],e[2]=j,e[3]=l,e[4]=i,e[5]=a,e[6]=b,e[7]=m):(b=e[6],m=e[7]);d("Int64Hooks").useEffectInt64(b,m);e[8]!==j||e[9]!==l?(b=function(){return j!=null?d("ReQL").fromTableAscending(l.tables.threads).getKeyRange((k||(k=d("I64"))).of_string(j)):d("ReQL").empty()},m=[l,j],e[8]=j,e[9]=l,e[10]=b,e[11]=m):(b=e[10],m=e[11]);e=d("ReQLSuspense").useFirst(b,m,f.id+":480");b=g?void 0:e;if(b!=null){m=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(k||(k=d("I64"))).to_string(a));m.type==="MWLSEntrypoint"&&m.value!=="unknown"&&d("LSThreadAttributionStore").setSource((k||(k=d("I64"))).to_string(b.threadKey),m.value)}return b}function a(a){var b,e=d("react-compiler-runtime").c(37),g=a.isMinimized,i=a.mawSecureThreadQPContainerQueryRef,m=a.mwChatTabInThreadBannerQueryRef,n=a.tab;a=a.threadKeyDescriptor;g=g===void 0?!1:g;var o=(h||(h=c("useReStore")))(),p=a.clientThreadKey,q=a.threadKey,r=a.threadLinkHash;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(q,a.threadType,p,"MWV2ChatTab");var t;e[0]!==o.tables.threads||e[1]!==q?(t=function(){return d("ReQL").fromTableAscending(o.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid","metadata"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(q)},e[0]=o.tables.threads,e[1]=q,e[2]=t):t=e[2];var u;e[3]!==o||e[4]!==q?(u=[o,q],e[3]=o,e[4]=q,e[5]=u):u=e[5];t=d("ReQLSuspense").useFirst(t,u,f.id+":532");e[6]!==p||e[7]!==o.tables.threads?(u=function(){return p!=null?d("ReQL").fromTableAscending(o.tables.threads.index("clientThreadKey")).getKeyRange(p):d("ReQL").empty()},e[6]=p,e[7]=o.tables.threads,e[8]=u):u=e[8];var v;e[9]!==p||e[10]!==o?(v=[o,p],e[9]=p,e[10]=o,e[11]=v):v=e[11];u=d("ReQLSuspense").useFirst(u,v,f.id+":552");v=x(q,t);t=(v=v!=null?v:t)!=null?v:u;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(v={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},e[12]=v):v=e[12];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(t,n,v);v=c("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")((u=t==null?void 0:t.threadKey)!=null?u:q,t==null?void 0:t.threadType);u=v[0];var w=v[1];v=v[2];b=c("useCometSubscribeMessengerIsOnDemandCutoverEligible")((b=t==null?void 0:t.threadKey)!=null?b:q,t==null?void 0:t.threadType);var y=b[0],z=b[1];b=b[2];a=d("MWV2EnsureThatChatTabExists").isOptimisticSecureThread(q,a.threadType,p)&&(t==null||!c("gkx")("12552")&&(k||(k=d("I64"))).equal(t.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)));w=!w||!z;z=t!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)&&w;w=z||a;if(w&&!d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled()){e[13]!==g||e[14]!==n?(z=g?null:l.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:n}),e[13]=g,e[14]=n,e[15]=z):z=e[15];return z}if(t!=null){a=g?"mwchat-tab-wrapper-minimized":void 0;w=g?"hidden":"visible";e[16]!==u||e[17]!==t?(z=t!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)&&u,e[16]=u,e[17]=t,e[18]=z):z=e[18];e[19]!==y||e[20]!==t?(u=t!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)&&y,e[19]=y,e[20]=t,e[21]=u):u=e[21];e[22]!==v||e[23]!==g||e[24]!==i||e[25]!==m||e[26]!==b||e[27]!==u||e[28]!==z||e[29]!==n||e[30]!==r||e[31]!==t?(y=l.jsx(s,{isMinimized:g,mawSecureThreadQPContainerQueryRef:i,mwChatTabInThreadBannerQueryRef:m,otherContactIdForDefaultE2eeThread:v,otherContactIdForOnDemandCutover:b,shouldUseDefaultE2eeOneToOne:z,shouldUseOnDemandCutover:u,tab:n,thread:t,threadLinkHash:r}),e[22]=v,e[23]=g,e[24]=i,e[25]=m,e[26]=b,e[27]=u,e[28]=z,e[29]=n,e[30]=r,e[31]=t,e[32]=y):y=e[32];e[33]!==y||e[34]!==a||e[35]!==w?(v=l.jsx(c("LegacyHidden"),{"data-testid":void 0,mode:w,children:y}),e[33]=y,e[34]=a,e[35]=w,e[36]=v):v=e[36];return v}return null}e=m(a);g["default"]=e}),98);